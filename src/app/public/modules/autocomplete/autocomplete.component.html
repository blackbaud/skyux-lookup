<div class="sky-autocomplete">
  <ng-content>
  </ng-content>
  <div class="sky-autocomplete-results">

    <sky-dropdown
      [dismissOnBlur]="false"
      [messageStream]="dropdownController">

      <sky-dropdown-button>
      </sky-dropdown-button>

      <sky-dropdown-menu
        [useNativeFocus]="false"
        (menuChanges)="onMenuChanges($event)"
      >

        <sky-dropdown-item
          *ngFor="let result of searchResults; let i = index"
          [skyHighlight]="highlightText"
        >

          <button
            type="button">
            <ng-container
              *ngTemplateOutlet="searchResultTemplate; context: { item: result }">
            </ng-container>
          </button>

        </sky-dropdown-item>
        <sky-dropdown-item *ngIf="searchResults.length === 0">
          <div class="sky-deemphasized sky-padding-squish-default">
            {{ noResultsFoundText || ('skyux_autocomplete_no_results' | skyLibResources) }}
          </div>
        </sky-dropdown-item>
      </sky-dropdown-menu>
    </sky-dropdown>
  </div>
  <ng-template
    let-item="item"
    #defaultSearchResultTemplate>
    {{ item[descriptorProperty] }}
  </ng-template>
</div>
